<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/bbp.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bytebeat Plotter</title>
</head>

<body>
  <div id="app">
    <main class="bb-root">
      <header class="bb-topbar">
        <div class="bb-topbar-controls">
          <button id="bb-play-button" class="bb-play-button" type="button">Play</button>
          <label class="bb-sr-label" for="bb-sample-rate">SR</label>
          <input id="bb-sample-rate" class="bb-sr-input" type="number" min="500" max="48000" step="500" value="8000" />
          <label class="bb-classic-label bb-checkbox-label" for="bb-classic">
            <input id="bb-classic" type="checkbox" class="bb-classic-checkbox" />
            Aliasing
          </label>
          <label class="bb-float-label bb-checkbox-label" for="bb-float">
            <input id="bb-float" type="checkbox" class="bb-float-checkbox" />
            Float
          </label>
          <label class="bb-gain-label bb-checkbox-label" for="bb-gain">
            Gain
            <input id="bb-gain" class="bb-gain-input" type="range" min="0" max="1" step="0.01" value="0.5" />
            <span id="bb-gain-value" class="bb-gain-value">50%</span>
          </label>
          <span id="bb-error" class="bb-error" aria-live="polite"></span>
        </div>
        <div class="bb-topbar-actions">
          <button id="bb-github-connect" class="bb-button bb-button--ghost" type="button">
            Connect to GitHub
          </button>
          <div id="bb-github-actions" class="bb-github-actions" hidden>
            <button id="bb-github-save" class="bb-button" type="button">
              Save
            </button>
            <button id="bb-github-save-as" class="bb-button" type="button">
              Save as
            </button>
            <button id="bb-github-load" class="bb-button" type="button">
              Load
            </button>
            <button id="bb-github-disconnect" class="bb-button bb-button--ghost" type="button">
              Disconnect
            </button>
          </div>
        </div>
      </header>
      <section class="bb-editor-shell">
        <div class="bb-editor-container">
          <textarea id="bb-editor" name="bb-editor"></textarea>
        </div>
      </section>
      <div id="bb-plots-container" class="bb-plots-floating">
      </div>
      <div id="bb-github-modal" class="bb-modal" aria-hidden="true">
        <div class="bb-modal-backdrop"></div>
        <div class="bb-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="bb-github-modal-title">
          <h2 id="bb-github-modal-title" class="bb-modal-title">Connect to GitHub</h2>
          <p class="bb-modal-body">
            Connect to GitHub to save and load projects as gists.
          </p>
          <p class="bb-modal-body">
            Create a <strong>fine-grained personal access token</strong> on GitHub with the
            <code>gist</code> permission, then paste it below.
          </p>
          <p class="bb-modal-body">
            Open GitHub token settings:
            <a href="https://github.com/settings/tokens?type=beta" target="_blank" rel="noreferrer">
              github.com/settings/tokens
            </a>
          </p>
          <label class="bb-modal-label" for="bb-github-token-input">
            GitHub token
          </label>
          <input id="bb-github-token-input" class="bb-modal-input" type="password" autocomplete="off"
            spellcheck="false" />
          <label class="bb-modal-label" for="bb-github-remember-session">
            <input id="bb-github-remember-session" type="checkbox" style="margin-right: 0.35rem;" />
            Remember for this session
          </label>
          <p id="bb-github-modal-error" class="bb-modal-error" aria-live="polite"></p>
          <div class="bb-modal-actions">
            <button id="bb-github-modal-cancel" class="bb-button bb-button--ghost" type="button">
              Cancel
            </button>
            <button id="bb-github-modal-confirm" class="bb-button" type="button">
              Connect
            </button>
          </div>
        </div>
      </div>
      <div id="bb-github-save-as-modal" class="bb-modal" aria-hidden="true">
        <div class="bb-modal-backdrop"></div>
        <div class="bb-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="bb-github-save-as-modal-title">
          <h2 id="bb-github-save-as-modal-title" class="bb-modal-title">Save project as</h2>
          <p class="bb-modal-body">
            Choose a name for this project. It will be used as the GitHub Gist description.
          </p>
          <label class="bb-modal-label" for="bb-github-save-as-name">
            Name
          </label>
          <input id="bb-github-save-as-name" class="bb-modal-input" type="text" autocomplete="off" spellcheck="false" />
          <label class="bb-modal-label" for="bb-github-save-as-public">
            <input id="bb-github-save-as-public" type="checkbox" style="margin-right: 0.35rem;" />
            Public gist
          </label>
          <p id="bb-github-save-as-modal-error" class="bb-modal-error" aria-live="polite"></p>
          <div class="bb-modal-actions">
            <button id="bb-github-save-as-modal-cancel" class="bb-button bb-button--ghost" type="button">
              Cancel
            </button>
            <button id="bb-github-save-as-modal-confirm" class="bb-button" type="button">
              Save
            </button>
          </div>
        </div>
      </div>
      <div id="bb-github-load-modal" class="bb-modal" aria-hidden="true">
        <div class="bb-modal-backdrop"></div>
        <div class="bb-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="bb-github-load-modal-title">
          <h2 id="bb-github-load-modal-title" class="bb-modal-title">Load from GitHub</h2>
          <p class="bb-modal-body">
            Select a <code>bytebeat-plotter</code> project from your GitHub gists.
          </p>
          <div id="bb-github-load-list" class="bb-modal-list"></div>
          <p id="bb-github-load-modal-error" class="bb-modal-error" aria-live="polite"></p>
          <div class="bb-modal-actions">
            <button id="bb-github-load-modal-cancel" class="bb-button bb-button--ghost" type="button">
              Close
            </button>
          </div>
        </div>
      </div>
    </main>

  </div>
  <script type="module" src="/src/main.ts"></script>
</body>

</html>